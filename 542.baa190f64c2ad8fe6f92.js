"use strict";(self.webpackChunkkpfl=self.webpackChunkkpfl||[]).push([[542],{5244:(s,a,e)=>{e.r(a),e.d(a,{default:()=>k});var n=e(4848),i=e(7101),t=e(9584),l=e(6540);const r="jqM5D6Y1",c="KRjiGDFH",o="Ssh6vGpx",d="G1hMRAiX",u="KUrL2IdH";var m=e(2441),v=e(8648);const h=e.p+"assets/images/NoUser.webp";var p=e(6420),j=e(6741),x=e(415),f=e(252),N=e(2133),g=e(8832),y=function(){return y=Object.assign||function(s){for(var a,e=1,n=arguments.length;e<n;e++)for(var i in a=arguments[e])Object.prototype.hasOwnProperty.call(a,i)&&(s[i]=a[i]);return s},y.apply(this,arguments)},b=function(s){var a=s.type,e=s.data,t=s.className,l=(0,m.G)((function(s){return s.stats})).loading,b=(0,g.b)().openDrawer,C={hidden:{opacity:0,x:-20},visible:{opacity:1,x:0,transition:{duration:.3,ease:"easeOut"}}};return l?(0,n.jsx)(f.a,{}):(0,n.jsx)("div",y({className:(0,i.x)("RuGBJn3o",{},[t])},{children:(0,n.jsxs)(N.P.div,y({className:"a6cgbsnk",variants:{hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.05}}},initial:"hidden",animate:"visible"},{children:[(0,n.jsxs)("div",y({className:"LtSErI2Y"},{children:[(0,n.jsx)("div",y({className:"CvLkihDX"},{children:"Игрок"})),(0,n.jsxs)("div",y({className:c},{children:["top-scorers"===a&&"Голы","top-assistants"===a&&"Ассисты","most-yellow-cards"===a&&"Жёлтые карточки","most-red-cards"===a&&"Красные карточки"]})),(0,n.jsx)("div",y({className:"".concat(c," ").concat(o)},{children:"Команда"})),(0,n.jsx)("div",y({className:c},{children:"Игры"})),(0,n.jsx)("div",y({className:c},{children:"Минуты"})),(0,n.jsx)("div",y({className:c},{children:"Сезон"}))]})),(0,n.jsx)("div",y({className:"DWXNlZle"},{children:0===(null==e?void 0:e.length)?(0,n.jsxs)(N.P.div,y({className:"dioJ56iy",variants:C},{children:[(0,n.jsx)("div",y({className:r},{children:"Нет данных"})),(0,n.jsx)("div",y({className:d},{children:"0"})),(0,n.jsx)("div",y({className:d},{children:"0"})),(0,n.jsx)("div",y({className:d},{children:"0"})),(0,n.jsx)("div",y({className:d},{children:"0"})),(0,n.jsx)("div",y({className:d},{children:"0"}))]})):null==e?void 0:e.map((function(s,e){return(0,n.jsxs)(N.P.div,y({className:"sPlzI7_q",onClick:function(){return b(String(s.id),"player")},variants:C},{children:[(0,n.jsx)("div",y({className:r},{children:(0,n.jsxs)("div",y({className:"LCGalpIL"},{children:[(0,n.jsx)("img",{src:s.player_photo?"".concat(x.C,"media/").concat(s.player_photo):h,alt:s.player_name,className:"CennEVcK"}),(0,n.jsx)("span",y({className:"yZkBcIWf"},{children:s.player_name}))]}))})),(0,n.jsxs)("div",y({className:"".concat(d," ").concat("ImZE8Ygc")},{children:["top-scorers"===a&&s.goals,"top-assistants"===a&&s.assists,"most-yellow-cards"===a&&s.yellow_cards>0&&(0,n.jsxs)("span",y({className:u},{children:[s.yellow_cards,(0,n.jsx)("img",{src:j,alt:"Жёлтая карточка"})]})),"most-red-cards"===a&&s.red_cards>0&&(0,n.jsxs)("span",y({className:u},{children:[s.red_cards,(0,n.jsx)("img",{src:p,alt:"Красная карточка"})]}))]})),(0,n.jsxs)("div",y({className:o},{children:[s.team_logo?(0,n.jsx)("img",{src:"".concat(x.C,"media/").concat(s.team_logo),alt:s.team,className:"SvQ6jv4h"}):(0,n.jsx)(v.A,{className:"KvgY5Z6P"}),(0,n.jsx)("span",y({className:"YpTl0xJs"},{children:s.team}))]})),(0,n.jsx)("div",y({className:d},{children:s.games})),(0,n.jsx)("div",y({className:d},{children:s.minutes})),(0,n.jsx)("div",y({className:d},{children:s.season_year}))]}),s.id)}))}))]}))}))},C=e(4808),w=e(9730),O=e(8129),P=e(2779),G=function(){return G=Object.assign||function(s){for(var a,e=1,n=arguments.length;e<n;e++)for(var i in a=arguments[e])Object.prototype.hasOwnProperty.call(a,i)&&(s[i]=a[i]);return s},G.apply(this,arguments)},S={hidden:{opacity:0},visible:{opacity:1,transition:{duration:.6,staggerChildren:.2}}},_={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5,ease:"easeOut"}}};const k=function(){var s=(0,m.j)(),a=(0,m.G)((function(s){return s.info})),e=a.seasons,r=a.tournaments,c=(0,m.G)((function(s){return s.stats})).stats,o=(0,l.useState)(""),d=o[0],u=o[1],v=(0,l.useState)(""),h=v[0],p=v[1],j=(0,l.useState)("top-scorers"),x=j[0],f=j[1],g=(0,l.useRef)(null),y=(0,P.W)(g,{once:!0,amount:.2});(0,l.useEffect)((function(){e&&e.length>0&&u((function(s){return s||e[0].year.toString()})),r&&r.length>0&&p((function(s){return s||r[0].id.toString()}))}),[e,r]),(0,l.useEffect)((function(){d&&h&&x&&s((0,O.$)({season:Number(d),type:String(x),league:Number(h)}))}),[s,d,h,x]);var k=(0,l.useMemo)((function(){return r?r.map((function(s){var a=s.id,e=s.name;return{value:a.toString(),label:e}})):[]}),[r]),I=(0,l.useMemo)((function(){return e?e.map((function(s){var a=s.year;return{value:a.toString(),label:"Сезон ".concat(a)}})):[]}),[e]);return(0,l.useEffect)((function(){(0,w.eG)()}),[]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t.z,{title:"Статистика",breadcrumbs:[{label:"Главная",path:"/"},{label:"Статистика"}]}),(0,n.jsxs)(N.P.section,G({ref:g,className:(0,i.x)("L8CrFZP2",{},["container"]),variants:S,initial:"hidden",animate:y?"visible":"hidden"},{children:[(0,n.jsxs)(N.P.div,G({className:"j1nMuGwo",variants:_},{children:[(0,n.jsxs)("div",G({className:"IBgx7Lx7"},{children:[(0,n.jsx)("h2",{children:"Статистика игроков"}),(0,n.jsx)("p",{children:"Следите за статистикой игроков в режиме реального времени"})]})),(0,n.jsxs)("div",G({className:"NmZgirM5"},{children:[(0,n.jsx)(C.s,{value:h,label:"Выбрать Лигу",onChange:p,options:k}),(0,n.jsx)(C.s,{value:d,label:"Выбрать сезон",onChange:u,options:I}),(0,n.jsx)(C.s,{label:"Выбрать статистику",value:x,onChange:f,options:[{value:"top-scorers",label:"Голы"},{value:"top-assistants",label:"Ассисты"},{value:"most-yellow-cards",label:"Жёлтые карточки"},{value:"most-red-cards",label:"Красные карточки"}]})]}))]})),(0,n.jsx)(N.P.div,G({className:"ddyYymXz",variants:_},{children:(0,n.jsx)(b,{data:c,type:x})}))]}))]})}},4808:(s,a,e)=>{e.d(a,{s:()=>o});var n=e(4848);var i=e(7101),t=e(6554),l=e(8303),r=e(3543),c=function(){return c=Object.assign||function(s){for(var a,e=1,n=arguments.length;e<n;e++)for(var i in a=arguments[e])Object.prototype.hasOwnProperty.call(a,i)&&(s[i]=a[i]);return s},c.apply(this,arguments)},o=function(s){var a=s.className,e=s.label,o=s.options,d=s.value,u=s.onChange;return(0,n.jsx)(l.A,c({fullWidth:!0,className:(0,i.x)("VOKOuKGo",{},[a])},{children:(0,n.jsx)(r.A,c({className:"JiPty4rG",id:"".concat(e,"-select"),value:d||"",onChange:function(s){u&&u(s.target.value)}},{children:o.map((function(s){return(0,n.jsx)(t.A,c({value:s.value},{children:s.label}),s.value)}))}))}))}}}]);