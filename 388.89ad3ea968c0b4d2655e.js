"use strict";(self.webpackChunkkpfl=self.webpackChunkkpfl||[]).push([[388],{6388:(e,n,t)=>{t.r(n),t.d(n,{default:()=>g});var a=t(4848),o=t(9584);const r={wrapper:"PGUOFA80",cards:"xJLwYY7C",pagination:"u3HgjLnv"};var i=t(7101),l=t(9730),s=t(6540),c=t(7105),u=t(4537),d=t(4976),p=t(2441),m=t(3440),f=t(252),h=function(){return h=Object.assign||function(e){for(var n,t=1,a=arguments.length;t<a;t++)for(var o in n=arguments[t])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e},h.apply(this,arguments)};const g=function(e){e.className;var n=(0,d.ok)(),t=n[0],g=n[1],x=(0,p.j)(),v=(0,p.G)((function(e){return e.media})),j=v.media,b=v.pagination,N=v.loading,C=v.error,w=(0,s.useState)(t.get("page")||1),y=w[0],A=w[1];return(0,s.useEffect)((function(){var e=t.get("page");e&&A(+e)}),[t]),(0,s.useEffect)((function(){(0,l.eG)(),x((0,m.M)(Number(y)))}),[x,y]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(o.z,{title:"Медиа",breadcrumbs:[{label:"Главная",path:"/"},{label:"Медиа"}]}),(0,a.jsxs)("section",h({className:(0,i.x)(r.wrapper,{},["container"])},{children:[N&&(0,a.jsx)(f.a,{}),C?(0,a.jsx)("h2",h({className:r.error},{children:C})):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",h({className:r.cards},{children:(null==j?void 0:j.length)>0?null==j?void 0:j.map((function(e){return(0,a.jsx)(c.Z,{data:e},e.id)})):(0,a.jsx)("h2",h({className:r.empty},{children:"Медиа на данный момент не найдены!"}))})),(0,a.jsx)(u.d,{page:+y,className:r.pagination,count:Math.ceil((null==b?void 0:b.count)/10),onChange:function(e,n){return function(e){A(e),g({page:"".concat(e)})}(n)}})]})]}))]})}},4537:(e,n,t)=>{t.d(n,{d:()=>l});var a=t(4848);const o={};var r=t(7101),i=t(6378),l=function(e){var n=e.className,t=e.count,l=e.onChange,s=e.page;return console.log(s),(0,a.jsx)(i.A,{className:(0,r.x)(o.Pagination,{},[n]),count:t||0,onChange:l,variant:"outlined",page:s,shape:"rounded",sx:{display:"flex",justifyContent:"center","& .MuiPagination-ul":{gap:"10px"},"& .MuiPaginationItem-root":{borderRadius:"12px",padding:"16px",color:"#EA961C",borderColor:"#EA961C",fontSize:"16px"},"& .MuiPaginationItem-root.Mui-selected":{fontSize:"16px",backgroundColor:"#EA961C",color:"#fff"},"& .MuiPaginationItem-root:hover":{backgroundColor:"#EA961C",color:"#fff",fontSize:"16px"},"& .MuiPaginationItem-previousNext":{borderRadius:"12px",borderColor:"#EA961C",color:"#FFF",backgroundColor:"#EA961C"}}})}},9730:(e,n,t)=>{t.d(n,{Ys:()=>o,eG:()=>a,eL:()=>r});var a=function(){window.scrollTo({top:0,behavior:"smooth"})},o=function(e,n){sessionStorage.setItem(e,JSON.stringify(n))},r=function(e){var n=sessionStorage.getItem(e);if(n)return JSON.parse(n)}},7105:(e,n,t)=>{t.d(n,{Z:()=>m});var a=t(4848),o=t(6540);const r={card:"BuyNrJKn",image:"hwYumLrY",text:"O8Op9bdM",modal:"agVlFQAN",modal_content:"C7f2j9wI",title_modal:"xGcHXnYh"};var i=t(7101),l=t(5934),s=t(7164),c=t(1134),u=t(4073),d=t(7809),p=function(){return p=Object.assign||function(e){for(var n,t=1,a=arguments.length;t<a;t++)for(var o in n=arguments[t])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e},p.apply(this,arguments)},m=function(e){var n=e.className,t=e.data,m=e.tag,f=(0,o.useState)(!1),h=f[0],g=f[1],x=function(){g(!1)},v=function(e){var n;return e.split("youtu.be/")[1]||(null===(n=e.split("watch?v=")[1])||void 0===n?void 0:n.split("&")[0])||""}(null==t?void 0:t.link_moments),j="https://img.youtube.com/vi/".concat(v,"/hqdefault.jpg"),b="https://www.youtube.com/embed/".concat(v,"?autoplay=1");return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("article",p({className:(0,i.x)(r.card,{},[n]),onClick:function(){g(!0)}},{children:[(0,a.jsx)("div",p({className:r.image},{children:(0,a.jsx)("img",{src:j,alt:null==t?void 0:t.title,className:r.thumbnail})})),m&&(0,a.jsx)("span",{children:m}),(0,a.jsxs)("div",p({className:r.text},{children:[(0,a.jsx)("h2",{children:null==t?void 0:t.title}),(0,a.jsx)("p",{children:null==t?void 0:t.description})]}))]})),(0,a.jsx)(l.A,p({open:h,onClose:x,className:r.modal},{children:(0,a.jsxs)(s.A,p({className:r.modal_content},{children:[(0,a.jsx)(c.A,p({"aria-label":"close",onClick:x,sx:{position:"absolute",right:8,top:8}},{children:(0,a.jsx)(d.A,{sx:{color:"#fff"}})})),(0,a.jsx)("iframe",{className:r.video,width:"100%",height:"90%",src:b,title:"YouTube video player",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0}),(0,a.jsx)(u.A,p({variant:"h6",className:r.title_modal},{children:null==t?void 0:t.title}))]}))}))]})}}}]);