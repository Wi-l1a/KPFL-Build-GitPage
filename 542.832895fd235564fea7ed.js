"use strict";(self.webpackChunkkpfl=self.webpackChunkkpfl||[]).push([[542],{5244:(s,a,e)=>{e.r(a),e.d(a,{default:()=>_});var n=e(4848),i=e(7101),t=e(9584),l=e(6540);const r="jqM5D6Y1",c="KRjiGDFH",o="G1hMRAiX",d="KUrL2IdH";var u=e(2441),m=e(8648);const v=e.p+"assets/images/NoUser.webp";var h=e(6420),p=e(6741),j=e(415),x=e(252),f=e(2133),N=e(8832),g=function(){return g=Object.assign||function(s){for(var a,e=1,n=arguments.length;e<n;e++)for(var i in a=arguments[e])Object.prototype.hasOwnProperty.call(a,i)&&(s[i]=a[i]);return s},g.apply(this,arguments)},y=function(s){var a=s.type,e=s.data,t=s.className,l=(0,u.G)((function(s){return s.stats})).loading,y=(0,N.b)().openDrawer,b={hidden:{opacity:0,x:-20},visible:{opacity:1,x:0,transition:{duration:.3,ease:"easeOut"}}};return l?(0,n.jsx)(x.a,{}):(0,n.jsx)("div",g({className:(0,i.x)("RuGBJn3o",{},[t])},{children:(0,n.jsxs)(f.P.div,g({className:"a6cgbsnk",variants:{hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.05}}},initial:"hidden",animate:"visible"},{children:[(0,n.jsxs)("div",g({className:"LtSErI2Y"},{children:[(0,n.jsx)("div",g({className:"CvLkihDX"},{children:"Игрок"})),(0,n.jsxs)("div",g({className:c},{children:["top-scorers"===a&&"Голы","top-assistants"===a&&"Ассисты","most-yellow-cards"===a&&"Жёлтые карточки","most-red-cards"===a&&"Красные карточки"]})),(0,n.jsx)("div",g({className:c},{children:"Команда"})),(0,n.jsx)("div",g({className:c},{children:"Игры"})),(0,n.jsx)("div",g({className:c},{children:"Минуты"})),(0,n.jsx)("div",g({className:c},{children:"Сезон"}))]})),(0,n.jsx)("div",g({className:"DWXNlZle"},{children:0===(null==e?void 0:e.length)?(0,n.jsxs)(f.P.div,g({className:"dioJ56iy",variants:b},{children:[(0,n.jsx)("div",g({className:r},{children:"Нет данных"})),(0,n.jsx)("div",g({className:o},{children:"0"})),(0,n.jsx)("div",g({className:o},{children:"0"})),(0,n.jsx)("div",g({className:o},{children:"0"})),(0,n.jsx)("div",g({className:o},{children:"0"})),(0,n.jsx)("div",g({className:o},{children:"0"}))]})):null==e?void 0:e.map((function(s,e){return(0,n.jsxs)(f.P.div,g({className:"sPlzI7_q",onClick:function(){return y(String(s.id),"player")},variants:b},{children:[(0,n.jsx)("div",g({className:r},{children:(0,n.jsxs)("div",g({className:"LCGalpIL"},{children:[(0,n.jsx)("img",{src:s.player_photo?"".concat(j.C,"media/").concat(s.player_photo):v,alt:s.player_name,className:"CennEVcK"}),(0,n.jsx)("span",g({className:"yZkBcIWf"},{children:s.player_name}))]}))})),(0,n.jsxs)("div",g({className:"ImZE8Ygc"},{children:["top-scorers"===a&&s.goals,"top-assistants"===a&&s.assists,"most-yellow-cards"===a&&s.yellow_cards>0&&(0,n.jsxs)("span",g({className:d},{children:[s.yellow_cards,(0,n.jsx)("img",{src:p,alt:"Жёлтая карточка"})]})),"most-red-cards"===a&&s.red_cards>0&&(0,n.jsxs)("span",g({className:d},{children:[s.red_cards,(0,n.jsx)("img",{src:h,alt:"Красная карточка"})]}))]})),(0,n.jsxs)("div",g({className:"Ssh6vGpx"},{children:[s.team_logo?(0,n.jsx)("img",{src:"".concat(j.C,"media/").concat(s.team_logo),alt:s.team,className:"SvQ6jv4h"}):(0,n.jsx)(m.A,{className:"KvgY5Z6P"}),(0,n.jsx)("span",g({className:"YpTl0xJs"},{children:s.team}))]})),(0,n.jsx)("div",g({className:o},{children:s.games})),(0,n.jsx)("div",g({className:o},{children:s.minutes})),(0,n.jsx)("div",g({className:o},{children:s.season_year}))]}),s.id)}))}))]}))}))},b=e(4808),C=e(9730),w=e(8129),O=e(2779),P=function(){return P=Object.assign||function(s){for(var a,e=1,n=arguments.length;e<n;e++)for(var i in a=arguments[e])Object.prototype.hasOwnProperty.call(a,i)&&(s[i]=a[i]);return s},P.apply(this,arguments)},G={hidden:{opacity:0},visible:{opacity:1,transition:{duration:.6,staggerChildren:.2}}},S={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5,ease:"easeOut"}}};const _=function(){var s=(0,u.j)(),a=(0,u.G)((function(s){return s.info})),e=a.seasons,r=a.tournaments,c=(0,u.G)((function(s){return s.stats})).stats,o=(0,l.useState)(""),d=o[0],m=o[1],v=(0,l.useState)(""),h=v[0],p=v[1],j=(0,l.useState)("top-scorers"),x=j[0],N=j[1],g=(0,l.useRef)(null),_=(0,O.W)(g,{once:!0,amount:.2});(0,l.useEffect)((function(){e&&e.length>0&&m((function(s){return s||e[0].year.toString()})),r&&r.length>0&&p((function(s){return s||r[0].id.toString()}))}),[e,r]),(0,l.useEffect)((function(){d&&h&&x&&s((0,w.$)({season:Number(d),type:String(x),league:Number(h)}))}),[s,d,h,x]);var k=(0,l.useMemo)((function(){return r?r.map((function(s){var a=s.id,e=s.name;return{value:a.toString(),label:e}})):[]}),[r]),I=(0,l.useMemo)((function(){return e?e.map((function(s){var a=s.year;return{value:a.toString(),label:"Сезон ".concat(a)}})):[]}),[e]);return(0,l.useEffect)((function(){(0,C.eG)()}),[]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t.z,{title:"Статистика",breadcrumbs:[{label:"Главная",path:"/"},{label:"Статистика"}]}),(0,n.jsxs)(f.P.section,P({ref:g,className:(0,i.x)("L8CrFZP2",{},["container"]),variants:G,initial:"hidden",animate:_?"visible":"hidden"},{children:[(0,n.jsxs)(f.P.div,P({className:"j1nMuGwo",variants:S},{children:[(0,n.jsxs)("div",P({className:"IBgx7Lx7"},{children:[(0,n.jsx)("h2",{children:"Статистика игроков"}),(0,n.jsx)("p",{children:"Следите за статистикой игроков в режиме реального времени"})]})),(0,n.jsxs)("div",P({className:"NmZgirM5"},{children:[(0,n.jsx)(b.s,{value:h,label:"Выбрать Лигу",onChange:p,options:k}),(0,n.jsx)(b.s,{value:d,label:"Выбрать сезон",onChange:m,options:I}),(0,n.jsx)(b.s,{label:"Выбрать статистику",value:x,onChange:N,options:[{value:"top-scorers",label:"Голы"},{value:"top-assistants",label:"Ассисты"},{value:"most-yellow-cards",label:"Жёлтые карточки"},{value:"most-red-cards",label:"Красные карточки"}]})]}))]})),(0,n.jsx)(f.P.div,P({className:"ddyYymXz",variants:S},{children:(0,n.jsx)(y,{data:c,type:x})}))]}))]})}},4808:(s,a,e)=>{e.d(a,{s:()=>o});var n=e(4848);var i=e(7101),t=e(6554),l=e(8303),r=e(3543),c=function(){return c=Object.assign||function(s){for(var a,e=1,n=arguments.length;e<n;e++)for(var i in a=arguments[e])Object.prototype.hasOwnProperty.call(a,i)&&(s[i]=a[i]);return s},c.apply(this,arguments)},o=function(s){var a=s.className,e=s.label,o=s.options,d=s.value,u=s.onChange;return(0,n.jsx)(l.A,c({fullWidth:!0,className:(0,i.x)("VOKOuKGo",{},[a])},{children:(0,n.jsx)(r.A,c({className:"JiPty4rG",id:"".concat(e,"-select"),value:d||"",onChange:function(s){u&&u(s.target.value)}},{children:o.map((function(s){return(0,n.jsx)(t.A,c({value:s.value},{children:s.label}),s.value)}))}))}))}}}]);